<div class="flex flex-column align-items-center justify-content-center">
    <button pButton type="button" label="Add task" (click)="addTask()"></button>
    <form [formGroup]="todoForm" (ngSubmit)="onSubmit()">
        <p-card header="Todo" class="w-6">
          
                <div formArrayName="tasks">
                    <p-table [value]="tasks.controls">

                        <ng-template pTemplate="header">
                            <tr>
                                <th width="60%">Task</th>
                                <th>Completed</th>
                                <th width="5%"></th>
                            </tr>
                        </ng-template>
                        
                        <ng-template pTemplate="body" let-todo>
                            <tr>
                                <td>{{ todo.controls['task'].value }}</td>
                                <td>
                                    <p-checkbox 
                                    [formControlName]="todo.controls['id'].value" 
                                    value="todo.controls['completed'].value" 
                                    inputId="todo.controls['id'].value"
                                    >
                                </p-checkbox>
                                </td>
                                <td>
                                    <p-button icon="pi pi-trash" severity="danger"></p-button>
                                </td>
                            </tr>
                        </ng-template>
                        
                    </p-table>
                </div>
           
        </p-card>
        <button pButton type="submit" label="Submit"></button>
    </form>
</div>
